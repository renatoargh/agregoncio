html
  head
    title: | Events Aggregator - UI
    link(href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css", rel="stylesheet", integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u", crossorigin="anonymous")
  body
    .container
      .col-sm-offset-2.col-sm-8
        .row
          h1: | Aggregators
        .row
          table.table.table-condensed.table-striped
            thead
              tr
                th: | Topic
                th: | Group By
                th: | Events
            tbody
              each aggregator in aggregators
                tr
                  td: | #{aggregator.topic.split(':').pop()}
                  td: | #{aggregator.groupBy}
                  td
                    ul(style="list-style-type: none; padding-left: 0px;")
                      each event in aggregator.events
                        li
                          - const eventName = event.split(':').pop()
                          | #{eventName}
                          | &nbsp;
                          a(data-topicArn=event, data-topicName=eventName, data-toggle="modal", data-target="#publish", href="#")
                            i.glyphicon.glyphicon.glyphicon-bullhorn

    #publish(class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel")
      div(class="modal-dialog" role="document")
        div(class="modal-content")
          div(class="modal-header")
            button(type="button" class="close" data-dismiss="modal" aria-label="Close")
              span(aria-hidden="true")
              |&times;
            h4(class="modal-title" id="myModalLabel")
              | Publish Event

          div(class="modal-body")
            .row
              .col-sm-12
                textarea.form-control#eventData(rows="10", placeholder="JSON formatted event data")

          div(class="modal-footer")
            button(type="button", class="btn btn-default" data-dismiss="modal")
              | Cancel
            button(type="button", class="btn btn-primary")
              | Publish

    script(src="https://code.jquery.com/jquery-2.2.4.min.js", integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=", crossorigin="anonymous")
    script(src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js", integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa", crossorigin="anonymous")

